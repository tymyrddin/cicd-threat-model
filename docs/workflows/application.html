<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Application code workflows &mdash; CI/CD threat model</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Infrastructure code workflows" href="infrastructure.html" />
    <link rel="prev" title="CI/CD threat model" href="../../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> CI/CD threat model
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Workflows</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Application code workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="infrastructure.html">Infrastructure code workflows</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Adversaries</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../adversaries/external.html">External adversary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adversaries/internal.html">Internal adversary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Assets</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../assets/ci-access.html">CI server access control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assets/database.html">Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assets/production-code.html">Production code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assets/scm-access.html">Source code management access control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assets/source-code.html">Source code</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Attack vectors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../attack-vectors/authentication-schemes.html">Authentication schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../attack-vectors/ci-server.html">CI Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../attack-vectors/containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../attack-vectors/k8s-objects.html">K8s objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../attack-vectors/logs.html">Logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../attack-vectors/package-registries.html">Package registries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../attack-vectors/repo-hosting-services.html">Repository hosting services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../attack-vectors/user-accounts.html">User accounts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Attacks</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../attacks/ppe.html">Poisoned pipeline execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../attacks/sca.html">Supply chain attacks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Threats</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../threats/exposure-secrets.html">Exposure of secrets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../threats/insecure-code.html">Insecure code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../threats/insecure-system-config.html">Insecure system configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../threats/lateral-movement.html">Lateral movement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../threats/third-party.html">Usage of third party services</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://tymyrddin.github.io/threat-models/">Overview threat models</a></li>
<li class="toctree-l1"><a class="reference external" href="https://tymyrddin.github.io/attack-trees/docs/cicd/README.html">CI/CD attack trees</a></li>
<li class="toctree-l1"><a class="reference external" href="https://wyrd.netlify.app/">Applications and CI/CD</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">CI/CD threat model</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Application code workflows</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/docs/workflows/application.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="application-code-workflows">
<h1>Application code workflows<a class="headerlink" href="#application-code-workflows" title="Permalink to this heading"></a></h1>
<p>An overview of the background info, design, and implementation of a production-ready CI/CD pipeline for application
code.</p>
<p><img alt="Simplified application pipeline" src="../../_images/application-pipeline.png" /></p>
<section id="assumptions">
<h2>Assumptions<a class="headerlink" href="#assumptions" title="Permalink to this heading"></a></h2>
<p>Assuming trunk based development:</p>
<ul class="simple">
<li><p>Small, frequent commits reduce the scope of each integration</p></li>
<li><p>Automated testing</p></li>
<li><p>Feature toggles</p></li>
</ul>
</section>
<section id="cloning-and-branching">
<h2>Cloning and branching<a class="headerlink" href="#cloning-and-branching" title="Permalink to this heading"></a></h2>
<p>The first step in making changes to a code base is to clone the repository locally and begin development on a new
branch. Using git:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>git clone $REPO_URL
git checkout -b $NEW_BRANCH_NAME
</pre></div>
</div>
</section>
<section id="running-code-locally">
<h2>Running code locally<a class="headerlink" href="#running-code-locally" title="Permalink to this heading"></a></h2>
<p>To run the code locally to sanity check the current state of trunk (to be clean and unbroken), spin up a local
environment for the application code to test it out. For a simple web server written in a general purpose programming
language, run the server code to bring up a local copy of the application and manually test it by loading the web
server in the browser. Or, run the automated test suite associated with the application.</p>
</section>
<section id="making-code-changes">
<h2>Making code changes<a class="headerlink" href="#making-code-changes" title="Permalink to this heading"></a></h2>
<p>Testing application code can be done in seconds (because everything is local).</p>
</section>
<section id="pull-merge-requests-and-reviews">
<h2>Pull (Merge) requests and reviews<a class="headerlink" href="#pull-merge-requests-and-reviews" title="Permalink to this heading"></a></h2>
<p>Focus the review process on things that are hard to check through automated testing, such as checking security flaws,
reviewing general code design, enforcing style guides, or identifying potential performance issues on larger data sets.</p>
</section>
<section id="running-automated-tests">
<h2>Running automated tests<a class="headerlink" href="#running-automated-tests" title="Permalink to this heading"></a></h2>
<p>Set up a CI server (such as Jenkins or CircleCI) giving a consistent build process on a repeatable and isolated
platform, with commit hooks that automatically trigger testing of any branch submitted for review. Most developers will
run a subset of the tests that relate to the feature branch being done, leading to faster feedback cycles. Include
automated tests designed to verify that the change didn’t create any regressions while testing a new change.</p>
<p>The CI server is to run the full automated test suite for the application code, and report the results as a summary,
using a simple green check mark to indicate success or a red “X” for failure.</p>
</section>
<section id="merging-and-releasing">
<h2>Merging and releasing<a class="headerlink" href="#merging-and-releasing" title="Permalink to this heading"></a></h2>
<p>After merging the code into trunk, a new, immutable, versioned release artifact can be generated that can be deployed.</p>
<p>The release artifact will vary widely from project to project for application code. This could be anything from a
source file tarball or a jar file executable to a docker image or a VM image. Make sure the artifact is immutable, and
that it has a unique version number.</p>
</section>
<section id="deploying">
<h2>Deploying<a class="headerlink" href="#deploying" title="Permalink to this heading"></a></h2>
<p>Once review and tests pass, the deployment part of the CI/CD pipeline begins. The code can be deployed to development,
testing, or production systems.</p>
<p>Deploying the release artifact to the environment depends on how the code is packaged. If it is a library, then it will
be deployed when the application that consumes it updates the library version. In this case, nothing needs to be done
to deploy it to the application. For services, the application can be deployed to live servers. For docker images, this
might mean updating service definitions for the docker cluster (ECS or Kubernetes). For machine images, this might mean
updating the autoscaling group to deploy instances with the new image.</p>
<p>There are various strategies for deploying application code, such as canary and blue-green deployments.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../index.html" class="btn btn-neutral float-left" title="CI/CD threat model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="infrastructure.html" class="btn btn-neutral float-right" title="Infrastructure code workflows" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
        <a href="https://unseen-uni.netlify.app/">Unseen University</a>, 2022

  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>